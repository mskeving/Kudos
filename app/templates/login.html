{% extends "base.html" %}

{% block content %}

<h1>Welcome to Kudos</h1>

<form action="" method="post" name="login">
	{{login_form.hidden_tag()}} <!-- needs to be in all forms if you have CSRF enabled in config.py -->

	<p>
		{% for error in login_form.errors.openid %}
            <span style="xolor:red;">[{{error}}]</span> <!-- display errors in red for user -->
        {% endfor %}<br>

        <!-- Create a hidden form. At some point this should be cleaned up. -->
        {{login_form.openid(size=80, style='display: none;', value='https://www.google.com/accounts/o8/id')}}
        <input type="submit" value="Sign in with Google">

</form>

<script type="text/javascript">
function set_openid(openid, pr)
{
	u = openid.search('<username>') // where does username come from?
	if (u != -1){
		//openid requres username
		user = prompt('Enter your ' + pr + ' username:')
		openid = openid.substr(0,u) + user
	}
	form = document.forms['login']; // returns list of all elements included in form login (above)
	form.elements['openid'].value = openid 
}
</script>
{% endblock %}
